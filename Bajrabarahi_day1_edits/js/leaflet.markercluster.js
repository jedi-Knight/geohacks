!function(a,b){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(c){L.Util.setOptions(this,c),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[]},addLayer:function(d){if(d instanceof L.LayerGroup){var g=[];for(var c in d._layers){g.push(d._layers[c])}return this.addLayers(g)}if(!d.getLatLng){return this._nonPointGroup.addLayer(d),this}if(!this._map){return this._needsClustering.push(d),this}if(this.hasLayer(d)){return this}this._unspiderfy&&this._unspiderfy(),this._addLayer(d,this._maxZoom);var h=d,f=this._map.getZoom();if(d.__parent){for(;h.__parent._zoom>=f;){h=h.__parent}}return this._currentShownBounds.contains(h.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(d,h):this._animationAddLayerNonAnimated(d,h)),this},removeLayer:function(d){if(d instanceof L.LayerGroup){var f=[];for(var c in d._layers){f.push(d._layers[c])}return this.removeLayers(f)}return d.getLatLng?this._map?d.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(d)),this._removeLayer(d,!0),this._featureGroup.hasLayer(d)&&(this._featureGroup.removeLayer(d),d.setOpacity&&d.setOpacity(1)),this):this:(!this._arraySplice(this._needsClustering,d)&&this.hasLayer(d)&&this._needsRemoving.push(d),this):(this._nonPointGroup.removeLayer(d),this)},addLayers:function(y){var p,k,g,z,c=this._featureGroup,f=this._nonPointGroup,v=this.options.chunkedLoading,m=this.options.chunkInterval,w=this.options.chunkProgress;if(this._map){var x=0,j=(new Date).getTime(),q=L.bind(function(){for(var l=(new Date).getTime();x<y.length;x++){if(v&&0===x%200){var d=(new Date).getTime()-l;if(d>m){break}}if(z=y[x],z.getLatLng){if(!this.hasLayer(z)&&(this._addLayer(z,this._maxZoom),z.__parent&&2===z.__parent.getChildCount())){var o=z.__parent.getAllChildMarkers(),h=o[0]===z?o[1]:o[0];c.removeLayer(h)}}else{f.addLayer(z)}}w&&w(x,y.length,(new Date).getTime()-j),x===y.length?(this._featureGroup.eachLayer(function(e){e instanceof L.MarkerCluster&&e._iconNeedsUpdate&&e._updateIcon()}),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(q,this.options.chunkDelay)},this);q()}else{for(p=[],k=0,g=y.length;g>k;k++){z=y[k],z.getLatLng?this.hasLayer(z)||p.push(z):f.addLayer(z)}this._needsClustering=this._needsClustering.concat(p)}return this},removeLayers:function(d){var h,c,j,f=this._featureGroup,g=this._nonPointGroup;if(!this._map){for(h=0,c=d.length;c>h;h++){j=d[h],this._arraySplice(this._needsClustering,j),g.removeLayer(j)}return this}for(h=0,c=d.length;c>h;h++){j=d[h],j.__parent?(this._removeLayer(j,!0,!0),f.hasLayer(j)&&(f.removeLayer(j),j.setOpacity&&j.setOpacity(1))):g.removeLayer(j)}return this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),f.eachLayer(function(e){e instanceof L.MarkerCluster&&e._updateIcon()}),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(c){delete c.__parent}),this._map&&this._generateInitialClusters(),this},getBounds:function(){var c=new L.LatLngBounds;this._topClusterLevel&&c.extend(this._topClusterLevel._bounds);for(var d=this._needsClustering.length-1;d>=0;d--){c.extend(this._needsClustering[d].getLatLng())}return c.extend(this._nonPointGroup.getBounds()),c},eachLayer:function(d,f){var c,g=this._needsClustering.slice();for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(g),c=g.length-1;c>=0;c--){d.call(f,g[c])}this._nonPointGroup.eachLayer(d,f)},getLayers:function(){var c=[];return this.eachLayer(function(d){c.push(d)}),c},getLayer:function(c){var d=null;return this.eachLayer(function(e){L.stamp(e)===c&&(d=e)}),d},hasLayer:function(d){if(!d){return !1}var f,c=this._needsClustering;for(f=c.length-1;f>=0;f--){if(c[f]===d){return !0}}for(c=this._needsRemoving,f=c.length-1;f>=0;f--){if(c[f]===d){return !1}}return !(!d.__parent||d.__parent._group!==this)||this._nonPointGroup.hasLayer(d)},zoomToShowLayer:function(d,f){var c=function(){if((d._icon||d.__parent._icon)&&!this._inZoomAnimation){if(this._map.off("moveend",c,this),this.off("animationend",c,this),d._icon){f()}else{if(d.__parent._icon){var e=function(){this.off("spiderfied",e,this),f()};this.on("spiderfied",e,this),d.__parent.spiderfy()}}}};if(d._icon&&this._map.getBounds().contains(d.getLatLng())){f()}else{if(d.__parent._zoom<this._map.getZoom()){this._map.on("moveend",c,this),this._map.panTo(d.getLatLng())}else{var g=function(){this._map.off("movestart",g,this),g=null};this._map.on("movestart",g,this),this._map.on("moveend",c,this),this.on("animationend",c,this),d.__parent.zoomToBounds(),g&&c.call(this)}}},onAdd:function(d){this._map=d;var f,c,g;if(!isFinite(this._map.getMaxZoom())){throw"Map has no maxZoom specified"}for(this._featureGroup.onAdd(d),this._nonPointGroup.onAdd(d),this._gridClusters||this._generateInitialClusters(),f=0,c=this._needsRemoving.length;c>f;f++){g=this._needsRemoving[f],this._removeLayer(g,!0)}this._needsRemoving=[],this._zoom=this._map.getZoom(),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),c=this._needsClustering,this._needsClustering=[],this.addLayers(c)},onRemove:function(c){c.off("zoomend",this._zoomEnd,this),c.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),this._hideCoverage(),this._featureGroup.onRemove(c),this._nonPointGroup.onRemove(c),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(c){for(var d=c;d&&!d._icon;){d=d.__parent}return d||null},_arraySplice:function(d,f){for(var c=d.length-1;c>=0;c--){if(d[c]===f){return d.splice(c,1),!0}}},_removeLayer:function(q,k,g){var f=this._gridClusters,v=this._gridUnclustered,c=this._featureGroup,d=this._map;if(k){for(var l=this._maxZoom;l>=0&&v[l].removeObject(q,d.project(q.getLatLng(),l));l--){}}var j,m=q.__parent,p=m._markers;for(this._arraySplice(p,q);m&&(m._childCount--,!(m._zoom<0));){k&&m._childCount<=1?(j=m._markers[0]===q?m._markers[1]:m._markers[0],f[m._zoom].removeObject(m,d.project(m._cLatLng,m._zoom)),v[m._zoom].addObject(j,d.project(j.getLatLng(),m._zoom)),this._arraySplice(m.__parent._childClusters,m),m.__parent._markers.push(j),j.__parent=m.__parent,m._icon&&(c.removeLayer(m),g||c.addLayer(j))):(m._recalculateBounds(),g&&m._icon||m._updateIcon()),m=m.__parent}delete q.__parent},_isOrIsParent:function(c,d){for(;d;){if(c===d){return !0}d=d.parentNode}return !1},_propagateEvent:function(c){if(c.layer instanceof L.MarkerCluster){if(c.originalEvent&&this._isOrIsParent(c.layer._icon,c.originalEvent.relatedTarget)){return}c.type="cluster"+c.type}this.fire(c.type,c)},_defaultIconCreateFunction:function(d){var f=d.getChildCount(),c=" marker-cluster-";return c+=10>f?"small":100>f?"medium":"large",new L.DivIcon({html:"<div><span>"+f+"</span></div>",className:"marker-cluster"+c,iconSize:new L.Point(40,40)})},_bindEvents:function(){var d=this._map,f=this.options.spiderfyOnMaxZoom,c=this.options.showCoverageOnHover,g=this.options.zoomToBoundsOnClick;(f||g)&&this.on("clusterclick",this._zoomOrSpiderfy,this),c&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),d.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(c){var d=this._map;d.getMaxZoom()===d.getZoom()?this.options.spiderfyOnMaxZoom&&c.layer.spiderfy():this.options.zoomToBoundsOnClick&&c.layer.zoomToBounds(),c.originalEvent&&13===c.originalEvent.keyCode&&d._container.focus()},_showCoverage:function(c){var d=this._map;this._inZoomAnimation||(this._shownPolygon&&d.removeLayer(this._shownPolygon),c.layer.getChildCount()>2&&c.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(c.layer.getConvexHull(),this.options.polygonOptions),d.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var d=this.options.spiderfyOnMaxZoom,f=this.options.showCoverageOnHover,c=this.options.zoomToBoundsOnClick,g=this._map;(d||c)&&this.off("clusterclick",this._zoomOrSpiderfy,this),f&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),g.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=this._map._zoom,this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var c=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,c),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._map._zoom,c),this._currentShownBounds=c}},_generateInitialClusters:function(){var d=this._map.getMaxZoom(),f=this.options.maxClusterRadius,c=f;"function"!=typeof f&&(c=function(){return f}),this.options.disableClusteringAtZoom&&(d=this.options.disableClusteringAtZoom-1),this._maxZoom=d,this._gridClusters={},this._gridUnclustered={};for(var g=d;g>=0;g--){this._gridClusters[g]=new L.DistanceGrid(c(g)),this._gridUnclustered[g]=new L.DistanceGrid(c(g))}this._topClusterLevel=new L.MarkerCluster(this,-1)},_addLayer:function(p,k){var g,f,q=this._gridClusters,c=this._gridUnclustered;for(this.options.singleMarkerMode&&(p.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[p]}}));k>=0;k--){g=this._map.project(p.getLatLng(),k);var d=q[k].getNearObject(g);if(d){return d._addChild(p),p.__parent=d,void 0}if(d=c[k].getNearObject(g)){var l=d.__parent;l&&this._removeLayer(d,!1);var j=new L.MarkerCluster(this,k,d,p);q[k].addObject(j,this._map.project(j._cLatLng,k)),d.__parent=j,p.__parent=j;var m=j;for(f=k-1;f>l._zoom;f--){m=new L.MarkerCluster(this,f,m),q[f].addObject(m,this._map.project(d.getLatLng(),f))}for(l._addChild(m),f=k;f>=0&&c[f].removeObject(d,this._map.project(d.getLatLng(),f));f--){}return}c[k].addObject(p,g)}this._topClusterLevel._addChild(p),p.__parent=this._topClusterLevel},_enqueue:function(c){this._queue.push(c),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var c=0;c<this._queue.length;c++){this._queue[c].call(this)}this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){this._processQueue(),this._zoom<this._map._zoom&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,this._map._zoom)):this._zoom>this._map._zoom?(this._animationStart(),this._animationZoomOut(this._zoom,this._map._zoom)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(!this.options.removeOutsideVisibleBounds){return this.getBounds()}var d=this._map,h=d.getBounds(),c=h._southWest,j=h._northEast,f=L.Browser.mobile?0:Math.abs(c.lat-j.lat),g=L.Browser.mobile?0:Math.abs(c.lng-j.lng);return new L.LatLngBounds(new L.LatLng(c.lat-f,c.lng-g,!0),new L.LatLng(j.lat+f,j.lng+g,!0))},_animationAddLayerNonAnimated:function(d,f){if(f===d){this._featureGroup.addLayer(d)}else{if(2===f._childCount){f._addToMap();var c=f.getAllChildMarkers();this._featureGroup.removeLayer(c[0]),this._featureGroup.removeLayer(c[1])}else{f._updateIcon()}}}}),L.MarkerClusterGroup.include(L.DomUtil.TRANSITION?{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_animationZoomIn:function(d,g){var c,h=this._getExpandedVisibleBounds(),f=this._featureGroup;this._topClusterLevel._recursively(h,d,0,function(j){var k,e=j._latlng,i=j._markers;for(h.contains(e)||(e=null),j._isSingleParent()&&d+1===g?(f.removeLayer(j),j._recursivelyAddChildrenToMap(null,g,h)):(j.setOpacity(0),j._recursivelyAddChildrenToMap(e,g,h)),c=i.length-1;c>=0;c--){k=i[c],h.contains(k._latlng)||f.removeLayer(k)}}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(h,g),f.eachLayer(function(e){e instanceof L.MarkerCluster||!e._icon||e.setOpacity(1)}),this._topClusterLevel._recursively(h,d,g,function(e){e._recursivelyRestoreChildPositions(g)}),this._enqueue(function(){this._topClusterLevel._recursively(h,d,0,function(e){f.removeLayer(e),e.setOpacity(1)}),this._animationEnd()})},_animationZoomOut:function(c,d){this._animationZoomOutSingle(this._topClusterLevel,c-1,d),this._topClusterLevel._recursivelyAddChildrenToMap(null,d,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,c,this._getExpandedVisibleBounds())},_animationZoomOutSingle:function(d,g,c){var h=this._getExpandedVisibleBounds();d._recursivelyAnimateChildrenInAndAddSelfToMap(h,g+1,c);var f=this;this._forceLayout(),d._recursivelyBecomeVisible(h,c),this._enqueue(function(){if(1===d._childCount){var e=d._markers[0];e.setLatLng(e.getLatLng()),e.setOpacity&&e.setOpacity(1)}else{d._recursively(h,c,0,function(i){i._recursivelyRemoveChildrenFromMap(h,g+1)})}f._animationEnd()})},_animationAddLayer:function(d,f){var c=this,g=this._featureGroup;g.addLayer(d),f!==d&&(f._childCount>2?(f._updateIcon(),this._forceLayout(),this._animationStart(),d._setPos(this._map.latLngToLayerPoint(f.getLatLng())),d.setOpacity(0),this._enqueue(function(){g.removeLayer(d),d.setOpacity(1),c._animationEnd()})):(this._forceLayout(),c._animationStart(),c._animationZoomOutSingle(f,this._map.getMaxZoom(),this._map.getZoom())))},_forceLayout:function(){L.Util.falseFn(b.body.offsetWidth)}}:{_animationStart:function(){},_animationZoomIn:function(c,d){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,c),this._topClusterLevel._recursivelyAddChildrenToMap(null,d,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(c,d){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,c),this._topClusterLevel._recursivelyAddChildrenToMap(null,d,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(c,d){this._animationAddLayerNonAnimated(c,d)}}),L.markerClusterGroup=function(c){return new L.MarkerClusterGroup(c)},L.MarkerCluster=L.Marker.extend({initialize:function(d,f,c,g){L.Marker.prototype.initialize.call(this,c?c._cLatLng||c.getLatLng():new L.LatLng(0,0),{icon:this}),this._group=d,this._zoom=f,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._bounds=new L.LatLngBounds,c&&this._addChild(c),g&&this._addChild(g)},getAllChildMarkers:function(d){d=d||[];for(var f=this._childClusters.length-1;f>=0;f--){this._childClusters[f].getAllChildMarkers(d)}for(var c=this._markers.length-1;c>=0;c--){d.push(this._markers[c])}return d},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var d,h=this._childClusters.slice(),c=this._group._map,k=c.getBoundsZoom(this._bounds),f=this._zoom+1,g=c.getZoom();h.length>0&&k>f;){f++;var j=[];for(d=0;d<h.length;d++){j=j.concat(h[d]._childClusters)}h=j}k>f?this._group._map.setView(this._latlng,f):g>=k?this._group._map.setView(this._latlng,g+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var c=new L.LatLngBounds;return c.extend(this._bounds),c},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(c,d){this._iconNeedsUpdate=!0,this._expandBounds(c),c instanceof L.MarkerCluster?(d||(this._childClusters.push(c),c.__parent=this),this._childCount+=c._childCount):(d||this._markers.push(c),this._childCount++),this.__parent&&this.__parent._addChild(c,!0)},_expandBounds:function(d){var f,c=d._wLatLng||d._latlng;d instanceof L.MarkerCluster?(this._bounds.extend(d._bounds),f=d._childCount):(this._bounds.extend(c),f=1),this._cLatLng||(this._cLatLng=d._cLatLng||c);var g=this._childCount+f;this._wLatLng?(this._wLatLng.lat=(c.lat*f+this._wLatLng.lat*this._childCount)/g,this._wLatLng.lng=(c.lng*f+this._wLatLng.lng*this._childCount)/g):this._latlng=this._wLatLng=new L.LatLng(c.lat,c.lng)},_addToMap:function(c){c&&(this._backupLatlng=this._latlng,this.setLatLng(c)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(d,f,c){this._recursively(d,0,c-1,function(g){var e,j,h=g._markers;for(e=h.length-1;e>=0;e--){j=h[e],j._icon&&(j._setPos(f),j.setOpacity(0))}},function(g){var e,j,h=g._childClusters;for(e=h.length-1;e>=0;e--){j=h[e],j._icon&&(j._setPos(f),j.setOpacity(0))}})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(d,f,c){this._recursively(d,c,0,function(e){e._recursivelyAnimateChildrenIn(d,e._group._map.latLngToLayerPoint(e.getLatLng()).round(),f),e._isSingleParent()&&f-1===c?(e.setOpacity(1),e._recursivelyRemoveChildrenFromMap(d,f)):e.setOpacity(0),e._addToMap()})},_recursivelyBecomeVisible:function(c,d){this._recursively(c,0,d,null,function(e){e.setOpacity(1)})},_recursivelyAddChildrenToMap:function(d,f,c){this._recursively(c,-1,f,function(h){if(f!==h._zoom){for(var e=h._markers.length-1;e>=0;e--){var g=h._markers[e];c.contains(g._latlng)&&(d&&(g._backupLatlng=g.getLatLng(),g.setLatLng(d),g.setOpacity&&g.setOpacity(0)),h._group._featureGroup.addLayer(g))}}},function(g){g._addToMap(d)})},_recursivelyRestoreChildPositions:function(d){for(var g=this._markers.length-1;g>=0;g--){var c=this._markers[g];c._backupLatlng&&(c.setLatLng(c._backupLatlng),delete c._backupLatlng)}if(d-1===this._zoom){for(var h=this._childClusters.length-1;h>=0;h--){this._childClusters[h]._restorePosition()}}else{for(var f=this._childClusters.length-1;f>=0;f--){this._childClusters[f]._recursivelyRestoreChildPositions(d)}}},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(d,g,c){var h,f;this._recursively(d,-1,g-1,function(e){for(f=e._markers.length-1;f>=0;f--){h=e._markers[f],c&&c.contains(h._latlng)||(e._group._featureGroup.removeLayer(h),h.setOpacity&&h.setOpacity(1))}},function(e){for(f=e._childClusters.length-1;f>=0;f--){h=e._childClusters[f],c&&c.contains(h._latlng)||(e._group._featureGroup.removeLayer(h),h.setOpacity&&h.setOpacity(1))}})},_recursively:function(m,k,g,f,p){var c,d,l=this._childClusters,j=this._zoom;if(k>j){for(c=l.length-1;c>=0;c--){d=l[c],m.intersects(d._bounds)&&d._recursively(m,k,g,f,p)}}else{if(f&&f(this),p&&this._zoom===g&&p(this),g>j){for(c=l.length-1;c>=0;c--){d=l[c],m.intersects(d._bounds)&&d._recursively(m,k,g,f,p)}}}},_recalculateBounds:function(){var d,f=this._markers,c=this._childClusters;for(this._bounds=new L.LatLngBounds,delete this._wLatLng,d=f.length-1;d>=0;d--){this._expandBounds(f[d])}for(d=c.length-1;d>=0;d--){this._expandBounds(c[d])}},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.DistanceGrid=function(c){this._cellSize=c,this._sqCellSize=c*c,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(f,j){var d=this._getCoord(j.x),l=this._getCoord(j.y),g=this._grid,h=g[l]=g[l]||{},k=h[d]=h[d]||[],c=L.Util.stamp(f);this._objectPoint[c]=j,k.push(f)},updateObject:function(c,d){this.removeObject(c),this.addObject(c,d)},removeObject:function(m,k){var g,f,p=this._getCoord(k.x),c=this._getCoord(k.y),d=this._grid,l=d[c]=d[c]||{},j=l[p]=l[p]||[];for(delete this._objectPoint[L.Util.stamp(m)],g=0,f=j.length;f>g;g++){if(j[g]===m){return j.splice(g,1),1===f&&delete l[p],!0}}},eachObject:function(p,k){var g,f,q,c,d,l,j,m=this._grid;for(g in m){d=m[g];for(f in d){for(l=d[f],q=0,c=l.length;c>q;q++){j=p.call(k,l[q]),j&&(q--,c--)}}}},getNearObject:function(A){var v,m,j,B,c,g,x,q,y=this._getCoord(A.x),z=this._getCoord(A.y),k=this._objectPoint,w=this._sqCellSize,f=null;for(v=z-1;z+1>=v;v++){if(B=this._grid[v]){for(m=y-1;y+1>=m;m++){if(c=B[m]){for(j=0,g=c.length;g>j;j++){x=c[j],q=this._sqDist(k[L.Util.stamp(x)],A),w>q&&(w=q,f=x)}}}}}return f},_getCoord:function(c){return Math.floor(c/this._cellSize)},_sqDist:function(d,f){var c=f.x-d.x,g=f.y-d.y;return c*c+g*g}},function(){L.QuickHull={getDistant:function(d,f){var c=f[1].lat-f[0].lat,g=f[0].lng-f[1].lng;return g*(d.lat-f[0].lat)+c*(d.lng-f[0].lng)},findMostDistantPointFromBaseLine:function(f,j){var d,l,g,h=0,k=null,c=[];for(d=j.length-1;d>=0;d--){l=j[d],g=this.getDistant(l,f),g>0&&(c.push(l),g>h&&(h=g,k=l))}return{maxPoint:k,newPoints:c}},buildConvexHull:function(d,f){var c=[],g=this.findMostDistantPointFromBaseLine(d,f);return g.maxPoint?(c=c.concat(this.buildConvexHull([d[0],g.maxPoint],g.newPoints)),c=c.concat(this.buildConvexHull([g.maxPoint,d[1]],g.newPoints))):[d[0]]},getConvexHull:function(f){var j,d=!1,l=!1,g=null,h=null;for(j=f.length-1;j>=0;j--){var k=f[j];(d===!1||k.lat>d)&&(g=k,d=k.lat),(l===!1||k.lat<l)&&(h=k,l=k.lat)}var c=[].concat(this.buildConvexHull([h,g],f),this.buildConvexHull([g,h],f));return c}}}(),L.MarkerCluster.include({getConvexHull:function(){var d,f,c=this.getAllChildMarkers(),g=[];for(f=c.length-1;f>=0;f--){d=c[f].getLatLng(),g.push(d)}return L.QuickHull.getConvexHull(g)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var d,g=this.getAllChildMarkers(),c=this._group,h=c._map,f=h.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,g.length>=this._circleSpiralSwitchover?d=this._generatePointsSpiral(g.length,f):(f.y+=10,d=this._generatePointsCircle(g.length,f)),this._animationSpiderfy(g,d)}},unspiderfy:function(c){this._group._inZoomAnimation||(this._animationUnspiderfy(c),this._group._spiderfied=null)},_generatePointsCircle:function(f,j){var d,l,g=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+f),h=g/this._2PI,k=this._2PI/f,c=[];for(c.length=f,d=f-1;d>=0;d--){l=this._circleStartAngle+d*k,c[d]=new L.Point(j.x+h*Math.cos(l),j.y+h*Math.sin(l))._round()}return c},_generatePointsSpiral:function(f,j){var d,l=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthStart,g=this._group.options.spiderfyDistanceMultiplier*this._spiralFootSeparation,h=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthFactor,k=0,c=[];for(c.length=f,d=f-1;d>=0;d--){k+=g/l+0.0005*d,c[d]=new L.Point(j.x+l*Math.cos(k),j.y+l*Math.sin(k))._round(),l+=this._2PI*h/k}return c},_noanimationUnspiderfy:function(){var d,h,c=this._group,j=c._map,f=c._featureGroup,g=this.getAllChildMarkers();for(this.setOpacity(1),h=g.length-1;h>=0;h--){d=g[h],f.removeLayer(d),d._preSpiderfyLatlng&&(d.setLatLng(d._preSpiderfyLatlng),delete d._preSpiderfyLatlng),d.setZIndexOffset&&d.setZIndexOffset(0),d._spiderLeg&&(j.removeLayer(d._spiderLeg),delete d._spiderLeg)}c._spiderfied=null}}),L.MarkerCluster.include(L.DomUtil.TRANSITION?{SVG_ANIMATION:function(){return b.createElementNS("http://www.w3.org/2000/svg","animate").toString().indexOf("SVGAnimate")>-1}(),_animationSpiderfy:function(C,q){var k,D,e,j,z=this,v=this._group,A=v._map,B=v._featureGroup,m=A.latLngToLayerPoint(this._latlng);for(k=C.length-1;k>=0;k--){D=C[k],D.setOpacity?(D.setZIndexOffset(1000000),D.setOpacity(0),B.addLayer(D),D._setPos(m)):B.addLayer(D)}v._forceLayout(),v._animationStart();var x=L.Path.SVG?0:0.3,g=L.Path.SVG_NS;for(k=C.length-1;k>=0;k--){if(j=A.layerPointToLatLng(q[k]),D=C[k],D._preSpiderfyLatlng=D._latlng,D.setLatLng(j),D.setOpacity&&D.setOpacity(1),e=new L.Polyline([z._latlng,j],{weight:1.5,color:"#222",opacity:x}),A.addLayer(e),D._spiderLeg=e,L.Path.SVG&&this.SVG_ANIMATION){var y=e._path.getTotalLength();e._path.setAttribute("stroke-dasharray",y+","+y);var w=b.createElementNS(g,"animate");w.setAttribute("attributeName","stroke-dashoffset"),w.setAttribute("begin","indefinite"),w.setAttribute("from",y),w.setAttribute("to",0),w.setAttribute("dur",0.25),e._path.appendChild(w),w.beginElement(),w=b.createElementNS(g,"animate"),w.setAttribute("attributeName","stroke-opacity"),w.setAttribute("attributeName","stroke-opacity"),w.setAttribute("begin","indefinite"),w.setAttribute("from",0),w.setAttribute("to",0.5),w.setAttribute("dur",0.25),e._path.appendChild(w),w.beginElement()}}if(z.setOpacity(0.3),L.Path.SVG){for(this._group._forceLayout(),k=C.length-1;k>=0;k--){D=C[k]._spiderLeg,D.options.opacity=0.5,D._path.setAttribute("stroke-opacity",0.5)}}setTimeout(function(){v._animationEnd(),v.fire("spiderfied")},200)},_animationUnspiderfy:function(p){var k,g,f,q=this._group,c=q._map,d=q._featureGroup,l=p?c._latLngToNewLayerPoint(this._latlng,p.zoom,p.center):c.latLngToLayerPoint(this._latlng),j=this.getAllChildMarkers(),m=L.Path.SVG&&this.SVG_ANIMATION;for(q._animationStart(),this.setOpacity(1),g=j.length-1;g>=0;g--){k=j[g],k._preSpiderfyLatlng&&(k.setLatLng(k._preSpiderfyLatlng),delete k._preSpiderfyLatlng,k.setOpacity?(k._setPos(l),k.setOpacity(0)):d.removeLayer(k),m&&(f=k._spiderLeg._path.childNodes[0],f.setAttribute("to",f.getAttribute("from")),f.setAttribute("from",0),f.beginElement(),f=k._spiderLeg._path.childNodes[1],f.setAttribute("from",0.5),f.setAttribute("to",0),f.setAttribute("stroke-opacity",0),f.beginElement(),k._spiderLeg._path.setAttribute("stroke-opacity",0)))}setTimeout(function(){var e=0;for(g=j.length-1;g>=0;g--){k=j[g],k._spiderLeg&&e++}for(g=j.length-1;g>=0;g--){k=j[g],k._spiderLeg&&(k.setOpacity&&(k.setOpacity(1),k.setZIndexOffset(0)),e>1&&d.removeLayer(k),c.removeLayer(k._spiderLeg),delete k._spiderLeg)}q._animationEnd()},200)}}:{_animationSpiderfy:function(m,k){var g,f,p,c,d=this._group,l=d._map,j=d._featureGroup;for(g=m.length-1;g>=0;g--){c=l.layerPointToLatLng(k[g]),f=m[g],f._preSpiderfyLatlng=f._latlng,f.setLatLng(c),f.setZIndexOffset&&f.setZIndexOffset(1000000),j.addLayer(f),p=new L.Polyline([this._latlng,c],{weight:1.5,color:"#222"}),l.addLayer(p),f._spiderLeg=p}this.setOpacity(0.3),d.fire("spiderfied")},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerClusterGroup.include({_spiderfied:null,_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Path.SVG&&!L.Browser.touch&&this._map._initPathRoot()},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(c){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(c))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(c){this._spiderfied&&this._spiderfied.unspiderfy(c)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(c){c._spiderLeg&&(this._featureGroup.removeLayer(c),c.setOpacity(1),c.setZIndexOffset(0),this._map.removeLayer(c._spiderLeg),delete c._spiderLeg)}})}(window,document);